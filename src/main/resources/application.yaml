spring:
  application:
    name: reops-event-proxy
  kafka:
    bootstrap-servers: localhost:9094
    topic: test2
    producer:
      properties:
        max.block.ms: 50                # If producer buffer/metadata isn't ready, do NOT block for seconds
        linger.ms: 50                   # wait up to 50ms to batch messages
        batch.size: 131072              # 128KB batch size max (improved throughput with larger batches)
        compression.type: lz4           # compress full batches with LZ4 (high-throughput compression)
        acks: 1                         # leader-only acknowledgments for lower latency
        enable.idempotence: false       # disable idempotence to allow higher in-flight requests
        max.in.flight.requests.per.connection: 10  # allow up to 10 inflight requests
  codec:
    max-in-memory-size: 65536    # 64KB max request body size
  main:
    banner-mode: off
    web-application-type: reactive
  threads:
    virtual:
      enabled: true
  jackson:
    default-property-inclusion: non_null

server:
  http2:
    enabled: true
  port: 8080

management:
  endpoints:
    web:
      base-path: /internal/
      exposure:
        include: info, health, metrics, prometheus

logging:
  level:
    root: INFO
    org.springframework.web: WARN
    no.nav.reops: INFO
    org.springframework.web.reactive.function.client.ExchangeFunctions: WARN
    reactor.netty.http.client: WARN
    org.apache.kafka.clients.NetworkClient: WARN
    org.apache.kafka.clients.Metadata: WARN
    org.apache.kafka.common.config.AbstractConfig: WARN